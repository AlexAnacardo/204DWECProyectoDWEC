<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Practica 7</title>
</head>
<body>
    <h1>Fibonacci</h1>
    <p>Introduce el numero de terminos para el calculo de la sucesion de fibonacci</p>
    <input type="textarea" id="fibonacci"/>    
    <button onclick="calcularFibonacci(recogerValorFibo())">Calcular Fibonacci</button>
    <p>Tiempo total de ejecucion: <span id="resultFibo"></span></p>


    <h1>Factorial</h1>
    <p>Introduce el numero de terminos para el calculo del Factorial</p>
    <input type="textarea" id="factorial"/>
    <button onclick="console.log('Factorial de '+recogerValorFact()+': '+calcularFactorial(recogerValorFact()))">Calcular Factorial</button>
    <p>Tiempo total de ejecucion: <span id="resultFactorial"></span></p>

    <script>
        
        /*
            //SIN RECURSIVIDAD

        calcularFibonacci=function(){
            start=new Date();
            num=document.getElementById('fibonacci').value;
            fibonacci=1;
            preFibonacci=0;
            for(i=1; i<num; i++){
                fibonacci=fibonacci+preFibonacci;
                preFibonacci=fibonacci-preFibonacci;     
                console.log(i);           
            }

            alert(fibonacci); 
            end=new Date();           
            document.getElementById('resultFibo').textContent=end.getTime()-start.getTime();            
        }

        

        
        calcularFactorial=function(){
            start=new Date();
            num=document.getElementById('factorial').value;
            resultados=[];
            total=1;
            while(num>0){
                resultados.push(num);
                num--;
            }
            
            for(valor in resultados){
                total=total*resultados[valor];                
            }
            alert(total); 
            end=new Date();           
            document.getElementById('resultFactorial').textContent=end.getTime()-start.getTime();
        }
            
        */

        
        calcularFibonacci=function(n){  
            if(isNaN(n)){
                console.log("Error, no se introdujo un numero")
                return 0;
            }          
            if(n==0){
                return 0;
            }
            else if(n==1){
                return 1;
            }
            else{
                console.log(n);
                return calcularFibonacci(n-1)+calcularFibonacci(n-2);
            }
        }

        calcularFactorial=function(n){            
            if(n<=1){

                return 1;
            } 
            else{
                return n*calcularFactorial(n-1);
            }
        }

        recogerValorFact=function(){
            valor=document.getElementById("factorial").value;            
            return valor;
        }

        recogerValorFibo=function(){
            valor=document.getElementById("fibonacci").value;            
            return valor;
        }
        
    </script>
</body>
</html>